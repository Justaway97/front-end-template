<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  <ng-container *ngFor="let header of headers">
    <ng-container *ngIf="header === 'select'">
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <app-checkbox
            [options]="['all']"
            [value]="headerCheckbox === true ? ['all'] : ['']"
            (change)="onHeaderCheckboxChange($event)"
            [displayOption]="false"
          >
          </app-checkbox>
        </th>
        <td mat-cell *matCellDef="let element; index as i">
          <app-checkbox
            [options]="[checkboxOptions[i]]"
            [value]="checkboxValue.includes(i) ? [i] : []"
            (change)="onHeaderCheckboxChange($event)"
            [displayOption]="false"
          >
          </app-checkbox>
        </td>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="header === 'input'">
      <ng-container matColumnDef="input">
        <th mat-header-cell *matHeaderCellDef>
          {{ header }}
        </th>
        <td mat-cell *matCellDef="let element; index as i">
          <app-input
            [value]="element.input.value"
            (change)="onChange($event, 'input')"
          ></app-input>
        </td>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="header === 'autoComplete'">
      <ng-container matColumnDef="autoComplete">
        <th mat-header-cell *matHeaderCellDef>
          {{ header }}
        </th>
        <td mat-cell *matCellDef="let element; index as i">
          <app-auto-complete
            [options]="element.autoComplete.options"
            [disabled]="element.autoComplete.disabled"
            [value]="element.autoComplete.value"
            (change)="onChange($event, 'autoComplete')"
          ></app-auto-complete>
        </td>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="header === 'buttonToggle'">
      <ng-container matColumnDef="buttonToggle">
        <th mat-header-cell *matHeaderCellDef>
          {{ header }}
        </th>
        <td mat-cell *matCellDef="let element; index as i">
          <app-button-toggle
            [options]="element.buttonToggle.options"
            [value]="element.buttonToggle.value"
            (change)="onChange($event, 'buttonToggle')"
          ></app-button-toggle>
        </td>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="header === 'menu'">
      <ng-container matColumnDef="menu">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element; index as i">
          <app-menu
            [icon]="element.menu.icon"
            [options]="element.menu.options"
            (change)="menuOutput($event)"
          ></app-menu>
        </td>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="header === 'multiAutoComplete'">
      <ng-container matColumnDef="multiAutoComplete">
        <th mat-header-cell *matHeaderCellDef>
          {{ header }}
        </th>
        <td mat-cell *matCellDef="let element; index as i">
          <app-multi-auto-complete
            [options]="element.multiAutoComplete.options"
            [value]="element.multiAutoComplete.value"
            (change)="onChange($event, 'multiAutoComplete')"
          ></app-multi-auto-complete>
        </td>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="header === 'datePicker'">
      <ng-container matColumnDef="datePicker">
        <th mat-header-cell *matHeaderCellDef>
          {{ header }}
        </th>
        <td mat-cell *matCellDef="let element; index as i">
          <app-date-picker
            [value]="element.datePicker.value"
            (change)="onChange($event, 'datePicker')"
          ></app-date-picker>
        </td>
      </ng-container>
    </ng-container>
    <ng-container
      *ngIf="
        header !== 'select' &&
        header !== 'input' &&
        header !== 'autoComplete' &&
        header !== 'buttonToggle' &&
        header !== 'menu' &&
        header !== 'multiAutoComplete' &&
        header !== 'datePicker'
      "
    >
      <ng-container [matColumnDef]="header">
        <th mat-header-cell *matHeaderCellDef>{{ header }}</th>
        <td mat-cell *matCellDef="let element">{{ element[header] }}</td>
      </ng-container>
    </ng-container>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="headers"></tr>
  <tr mat-row *matRowDef="let row; columns: headers"></tr>
</table>
